{% extends 'base.html' %}

{% block title %}Create Homework - BuddyBud{% endblock %}

{% block nav %}
<a href="{% url 'teacher_dashboard' %}">← Back to Dashboard</a>
{% endblock %}

{% block extra_css %}
<style>
    .step-indicator { display: flex; justify-content: center; gap: 20px; margin-bottom: 40px; padding: 20px 0; border-bottom: 1px solid #333; }
    .step { display: flex; align-items: center; gap: 10px; color: #666; }
    .step.active { color: #D4F14E; font-weight: bold; }
    .step.completed { color: #999; }
    .step-number { width: 30px; height: 30px; border: 2px solid #666; display: flex; align-items: center; justify-content: center; font-weight: bold; }
    .step.active .step-number { border-color: #D4F14E; background: #D4F14E; color: #000; }
    .step.completed .step-number { border-color: #999; background: #999; color: #000; }
</style>
{% endblock %}

{% block content %}
<div class="container" style="max-width: 800px;">
    <h1>Create New Homework</h1>
    
    <div class="step-indicator">
        <div class="step active">
            <div class="step-number">1</div>
            <span>Details</span>
        </div>
        <div class="step">
            <div class="step-number">2</div>
            <span>Files</span>
        </div>
        <div class="step">
            <div class="step-number">3</div>
            <span>Review</span>
        </div>
    </div>
    
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="card">
            <h2>Homework Information</h2>
            
            <label for="title">Homework Title</label>
            <input type="text" id="title" name="title" placeholder="e.g. Physics Chapter 5 Problems" required>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <label for="subject">Subject</label>
                    <input type="text" id="subject" name="subject" placeholder="e.g. Physics" required>
                </div>
                <div>
                    <label for="level">Level</label>
                    <select id="level" name="level" required>
                        <option value="">Select level...</option>
                        <option value="GCSE">GCSE</option>
                        <option value="A-Level">A-Level</option>
                        <option value="University">University</option>
                    </select>
                </div>
            </div>
            
            <label for="class_name">Class</label>
            <input type="text" id="class_name" name="class_name" placeholder="e.g. Year 12 Physics" required>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <label for="due_date">Due Date</label>
                    <input type="date" id="due_date" name="due_date" required>
                </div>
                <div>
                    <label for="total_marks">Total Marks</label>
                    <input type="number" id="total_marks" name="total_marks" placeholder="100" required>
                </div>
            </div>
            
            <label for="num_questions">Number of Questions</label>
            <input type="number" id="num_questions" name="num_questions" placeholder="10" required>
            
            <label for="instructions">Instructions (optional)</label>
            <textarea id="instructions" name="instructions" placeholder="Show all working. Include units. Use diagrams where appropriate." style="min-height: 100px;"></textarea>
        </div>
        
        <div class="card" style="margin-top: 20px;">
            <h2>Upload Files</h2>
            <p>Upload the homework materials (optional but recommended)</p>
            
            <label for="questions_file">Questions PDF</label>
            <input type="file" id="questions_file" name="questions_file" accept=".pdf">
            <p style="margin-top: 5px; margin-bottom: 15px;">The exam paper or problem set students will answer</p>
            
            <label for="mark_scheme_file">Mark Scheme PDF</label>
            <input type="file" id="mark_scheme_file" name="mark_scheme_file" accept=".pdf">
            <p style="margin-top: 5px;">How answers should be graded</p>
        </div>
        
        <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">Create Homework</button>
    </form>
    
    <div style="margin-top: 30px;">
        <h3>Tips:</h3>
        <p>• Clear titles help students identify the homework</p>
        <p>• Set realistic due dates</p>
        <p>• Include clear instructions</p>
        <p>• Upload question papers and mark schemes for best results</p>
    </div>
</div>
{% endblock %}
